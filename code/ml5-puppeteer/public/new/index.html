<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Do some Magic</title>
  <meta name="language" content="English">
<meta name="revisit-after" content="4 days">
<meta name="author" content="Satyanchal Chaudhary">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/css/foundation.min.css'>
<link rel='stylesheet' href='https://cdn.materialdesignicons.com/1.8.36/css/materialdesignicons.min.css'><link rel="stylesheet" href="./style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/tensorflow/3.3.0/tf.min.js"> </script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@2.1.0"> </script>
 <style>
  .box {
    display: block;
    max-width: 340px;
    height: 300px;
    min-width: 340px;
    margin: 10px;
    background-color: white;
    border-radius: 0px 0px 9px 9px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 12%), 0 1px 2px rgb(0 0 0 / 24%);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    overflow: hidden;
}
   .wrapper{
   margin-bottom: 30px;
   }
  .button {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 19px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 12px;
    outline: none;
}
  </style>
</head>
<body>
<!-- partial:index.partial.html -->
<h1 id="this"></h1>
<div class="wrapper">
 <div class="box">
   <div class="enrichment_spinner" id="magic" style="position: fixed;z-index: 10000;display: none;">
    <img alt="spinner" src="https://www.plushvie.in/face/public/face-loader.gif" style="display: inline-flex;position: fixed;margin-left: 56px;width: 230px;">
    <img alt="spinner" src="https://d.mhcache.com/FP/Assets/Images/PhotoEnhancer/Spinners/deep-nostalgia.png?v=2" style="display: inline-flex;position: sticky;margin-left: 70px;z-index: 10000000;width: 211px;margin-top: 9px;">
</div>
    <img class="js--image-preview" id="img" src="./F_103468.jpg">
    <div class="upload-options">
      <label>
        <input type="file" class="image-upload" onchange="loadFile(event)" accept="image/*" />
      </label>
    </div>
  </div>
</div>
 <button class="button" onclick="test();">Do some magic<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" style="margin-bottom: -5px;margin-left: 3px;"><path fill="none" d="M0 0h24v24H0z"></path><path d="M15.199 9.945a2.6 2.6 0 0 1-.79-1.551l-.403-3.083-2.73 1.486a2.6 2.6 0 0 1-1.72.273L6.5 6.5l.57 3.056a2.6 2.6 0 0 1-.273 1.72l-1.486 2.73 3.083.403a2.6 2.6 0 0 1 1.55.79l2.138 2.257 1.336-2.807a2.6 2.6 0 0 1 1.23-1.231l2.808-1.336-2.257-2.137zm.025 5.563l-2.213 4.65a.6.6 0 0 1-.977.155l-3.542-3.739a.6.6 0 0 0-.357-.182l-5.107-.668a.6.6 0 0 1-.449-.881l2.462-4.524a.6.6 0 0 0 .062-.396L4.16 4.86a.6.6 0 0 1 .7-.7l5.063.943a.6.6 0 0 0 .396-.062l4.524-2.462a.6.6 0 0 1 .881.45l.668 5.106a.6.6 0 0 0 .182.357l3.739 3.542a.6.6 0 0 1-.155.977l-4.65 2.213a.6.6 0 0 0-.284.284zm.797 1.927l1.414-1.414 4.243 4.242-1.415 1.415-4.242-4.243z" fill="rgba(255,255,255,1)"></path></svg></button>
<script>
  // Notice there is no 'import' statement. 'mobilenet' and 'tf' is
  // available on the index-page because of the script tag above.

  const img = document.getElementById('img');
function test(){
   document.getElementById("magic").style.display = "block";
  // Load the model.
  mobilenet.load().then(model => {
    // Classify the image.
    model.classify(img).then(predictions => {
      console.log('Predictions: ');
      console.log(predictions[0].className);
      console.log(predictions[1].className);
      console.log(predictions[2].className);
      document.getElementById("this").innerHTML = "This is " + predictions[0].className;
      document.getElementById("magic").style.display = "none";
    });
  });
}
  
  var loadFile = function(event) {
    var img = document.getElementById('img');
    img.src = URL.createObjectURL(event.target.files[0]);
  };
</script>


</body>
</html>
